<div class="row">
    <div class="col-md-12">
        <br>
        <h2>Students</h2>
        <a href="/students/add" class="btn btn-success float-end">Add New Student</a> <!-- Added button here -->
        <hr />

        {{#if students.length}}
            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Student Num</th>
                            <th>Full Name</th>
                            <th>Email</th>
                            <th>Address</th>
                            <th>Status</th>
                            <th>Course Code</th> <!-- Updated header to match data -->
                            <th></th> <!-- Empty header for remove column -->
                        </tr>
                    </thead>
                    <tbody>
                        {{#each students}}
                            <tr>
                                <td>{{this.studentNum}}</td>
                                <td><a href="/student/{{this.studentNum}}">{{this.firstName}} {{this.lastName}}</a></td>
                                <td><a href="mailto:{{this.email}}">{{this.email}}</a></td>
                                <td>{{this.addressStreet}}, {{this.addressCity}}, {{this.addressProvince}}</td> <!-- Concatenated address fields -->
                                <td>{{this.status}}</td>
                                <td><a href="/students?course={{this.courseCode}}">{{this.courseCode}}</a></td> <!-- Updated to courseCode -->
                                <td>
                                    <a href="/students/delete/{{this.studentNum}}" class="btn btn-danger btn-sm">Remove</a>
                                </td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        {{else}}
            <div class="col-md-12 text-center">
                <strong>{{message}}</strong> <!-- Ensure message is passed correctly -->
            </div>
        {{/if}}
    </div>
</div>
